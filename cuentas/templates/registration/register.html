{%extends 'base.html'%}

{%block contenido%}
{%load static%}
{%load crispy_forms_tags%}

<form action="" method="post" class="d-flex justify-content-center">
    {% csrf_token %}
    <div class="card mx-auto" style="width: 35rem;">
        <div class="card-body">
            <div class="col-md-12 text-center">
                <h2>Registro de Usuario</h2>
                <hr>
                {{form|crispy}}
                <a href="{% url 'login' %}">¿Ya tienes una cuenta? Inicia sesión</a>
                <br><br>
                <button type="submit" class="btn btn-sm btn-primary">Registrarse</button>
            </div>
        </div>
    </div>
</form>
<br>
<script>
    $(document).ready(function(){
        $("#registerForm").validate({
            rules: {
                username: {
                    required: true,
                    minlength: 5
                },
                first_name: {
                    required: true,
                    lettersonly: true,
                    minlength:3

                },
                last_name: {
                    required: true,
                    lettersonly: true,
                    minlength:3
                },
                email: {
                    required: true,
                    email: true
                },
                password1: {
                    required: true,
                    minlength: 8
                },
                password2: {
                    required: true,
                    equalTo: "#id_password1"
                }
            },
            messages: {
                username: {
                    required: "Por favor, ingrese un nombre de usuario",
                    minlength: "El nombre de usuario debe tener al menos 3 caracteres"
                },
                first_name: {
                    required: "Por favor, ingrese su nombre",
                    minlength: "El nombre debe tener al menos 3 caracteres",
                    lettersonly: "El nombre solo puede contener letras"

                },
                last_name: {
                    required: "Por favor, ingrese su apellido",
                    minlength: "El apellido debe tener al menos 3 caracteres",
                    lettersonly: "El apellido solo puede contener letras"

                },
                email: {
                    required: "Por favor, ingrese un correo electrónico",
                    email: "Por favor, ingrese un correo electrónico válido"
                },
                password1: {
                    required: "Por favor, ingrese una contraseña",
                    minlength: "La contraseña debe tener al menos 8 caracteres"
                },
                password2: {
                    required: "Por favor, confirme la contraseña",
                    equalTo: "Las contraseñas no coinciden"
                }
            }
        });
    });
</script>
{%endblock%}